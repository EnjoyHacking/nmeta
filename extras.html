<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Nmeta : Extensible Traffic Classification on SDN">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Nmeta</title>
  </head>

  <body>

  <!-- NAVBAR -->
  <div id="header"></div>
  <div class="navbar-box">
    <div id="nav">
        <ul id="navbar">
          <li><a href="index.html">Welcome</a></li>
          <li><a href="motivation.html">Motivation</a></li>
          <li><a href="install.html">Install</a></li>
          <li><a href="develop.html">Develop</a></li>
          <li><a href="faq.html">FAQ</li>
          <li>Extras</a></li>
        </ul>
    </div>
	<div id="navbreak">
	</div>
    <div id="nav2">
      <ul id="navbar2">
        <li><a href="#" class="black">&nbsp;</a></li>
        <li><a href="#" class="black">&nbsp;</a></li>
        <li><a href="#" class="black">&nbsp;</a></li>
        <li><a href="#" class="black">&nbsp;</a></li>
        <li><a href="#" class="black">&nbsp;</a></li>
        <li>More...</li>
      </ul>
    </div>
  </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

<h1>
  <a id="general-configuration" class="anchor" href="#general-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  Build Yourself a Virtual OpenFlow Lab
</h1>
<p>*** Under Construction!!! ***</p>
<p>Want to experiment with nmeta and OpenFlow SDN, but don't have any switches? No problem. You can build a simple, but powerful, lab within a virtualised environment. These instructions should hopefully save you a lot of time figuring out the more obtuse features. Oracle VirtualBox is used as the hypervisor. Here is a logical diagram of the environment</p>

<p><img src="images/lab/lab_overview.png" alt="Lab Overview"></p>

<h2>
  <a id="general-configuration" class="anchor" href="#general-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  Pre-Requisites
</h2>

<p>
  <ul>
    <li>Oracle VirtualBox installed on a suitable host machine</li>
    <li>Host must have sufficient RAM (test PC was Windows 7 with 8GB RAM)</li>
  </ul>
</p>

<h2>
  <a id="general-configuration" class="anchor" href="#general-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  VM1 Server / Controller
</h2>

<p>Download a suitable supported Ubuntu desktop distribution. In VirtualBox, create a new Ubuntu guest with 1024MB of RAM and 12GB of storage. Consider creating the hard disk as fixed size to improve performance.</p>

<p><img src="images/lab/lab1.png" alt="Lab Pic 1"></p>
<p><img src="images/lab/lab2.png" alt="Lab Pic 2"></p>
<p><img src="images/lab/lab6.png" alt="Lab Pic 6"></p>

<p>Go into the guest settings to configure it to boot off the ISO. Under Storage, click on the Controller: IDE row and then click on the Add CD/DVD Device Icon, "Choose disk" and browse to the ISO:</p>

<p><img src="images/lab/lab7.png" alt="Lab Pic 7"></p>
<p><img src="images/lab/lab8.png" alt="Lab Pic 8"></p>

<p>Do the same process to add the ISO for the Guest Additions. On Windows it is located in C:\Program Files\Oracle\VirtualBox\VBoxGuestAdditions.iso</p>

<p><img src="images/lab/lab9.png" alt="Lab Pic 9"></p>

<p>As above, there should now be two ISO files associated.</p>

<p>Go into the Network settings and leave Adapter 1 as per defaults to allow NAT access to the Internet (required for downloading software packages from the Internet). Configure Adapter 2 as per screenshot below to connect to Internal Network "WAN-1":</p>

<p><img src="images/lab/lab10.png" alt="Lab Pic 10"></p>

<p>Start the VM and install Ubuntu as per the defaults (or your own preferences!)</p>

<h3>
  <a id="general-configuration" class="anchor" href="#general-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  Install VirtualBox Additions
</h3>

<p>Once the build is completed and the guest is running, log in and start a terminal window (CTRL+ALT+T). Install the VirtualBox additions for improved host-guest integration:</p>

<pre><code>cd /media
</code></pre>

<p>Look for the appropriate subdirectories that contain the correct additions version. Example:</p>

<p><img src="images/lab/lab11.png" alt="Lab Pic 11"></p>

<p>Run the additions:</p>

<pre><code>sudo ./VBoxLinuxAdditions.run
</code></pre>

<p>Restart the guest to bring the additions online. You may also want to change the copy/paste settings in VirtualBox to allow pasting to the guest:</p>

<p><img src="images/lab/lab12.png" alt="Lab Pic 12"></p>

<h3>
  <a id="general-configuration" class="anchor" href="#general-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  Configure Networking
</h3>

<p>Edit /etc/network/interfaces:</p>

<pre><code>sudo vi /etc/network/interfaces
</code></pre>

<p>Add the following:</p>

<pre><code>auto eth1
iface eth1 inet static
address 192.168.57.40
netmask 255.255.255.0
#
up route add -net 192.168.56.0/24 gw 192.168.57.1 dev eth1
</code></pre>

<p>Restart networking:</p>

<pre><code>sudo /etc/init.d/networking restart
</code></pre>

<p>Now, install Ryu, nmeta etc as per instructions on the <a href="install.html">Installation Page</a></p>

<h2>
  <a id="general-configuration" class="anchor" href="#general-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  VM2 Central Open vSwitch
</h2>

<p>Create a new Ubuntu guest (minimum version 14.04 due to additional of in-tree kernel support for Open vSwitch) with 512MB of RAM and 8GB of storage, as per instructions for VM1, but with the following differences:
  <ul>
    <li>Leave Adapter 1 as per defaults to allow NAT access to the Internet. Configure Adapter 2 and 3 as per screenshots below:

    </li>
  </li>
</p>


<p>*** Under Construction!!! ***</p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Nmeta maintained by <a href="https://github.com/mattjhayes" target="_blank">mattjhayes</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

  </body>
</html>
